# 更新日誌

所有重要的專案變更都會記錄在此文件中。

## [1.2.1] - 2025-11-12

### 🔄 調整優化
- **移除待辦清單功能**
  - 根據使用者反饋，移除待辦清單整合功能
  - 保持純粹的番茄鐘體驗
  - 減少介面複雜度

- **移除白噪音播放器**
  - 移除白噪音播放功能
  - 專注於核心計時功能
  - 簡化應用架構

### 🎯 保留功能
- ✅ 核心計時功能
- ✅ 通知提醒系統
- ✅ 今日統計追蹤
- ✅ 週統計圖表 🆕
- ✅ 夜間模式
- ✅ 自訂設定

### 📦 代碼優化
- 刪除 `js/tasks.js`（300+ 行）
- 刪除 `js/sounds.js`（430 行）
- 移除相關 CSS 樣式（約 300 行）
- 簡化 `app.js` 初始化邏輯
- 代碼行數從 5,700+ 減少到 3,800+ 行

### 💡 設計理念
回歸番茄工作法的本質：
- 專注於計時和休息提醒
- 簡潔直觀的使用體驗
- 週統計幫助追蹤進度
- 避免功能過載

---

## [1.2.0] - 2025-11-12

### ✨ 新增功能

#### 📋 待辦清單整合
- **完整任務管理系統**
  - 新增、完成、刪除任務操作
  - 任務篩選功能（全部/進行中/已完成）
  - 每個任務自動追蹤番茄鐘完成數
  - 完成番茄鐘時自動增加當前任務計數
  - 清除已完成任務功能
  - localStorage 持久化儲存

#### 🎵 白噪音播放器
- **6 種專注環境音**
  - 🌧️ 雨聲：柔和的雨滴聲
  - 🌊 海浪：舒緩的波浪聲
  - 🌲 森林：鳥鳴與樹葉沙沙聲
  - 🔥 壁爐：溫暖的木柴燃燒聲
  - ☕ 咖啡廳：輕鬆的環境氛圍
  - 💨 風聲：自然的風吹聲
- **進階播放控制**
  - Web Audio API 程序化音頻生成（無需外部文件）
  - 獨立音量控制滑桿
  - 音效開關切換
  - 設定自動保存

#### 📈 週統計圖表
- **視覺化數據呈現**
  - 過去 7 天番茄鐘完成趨勢長條圖
  - Canvas 原生 API 繪製（無需第三方圖表庫）
  - 本週總計、每日平均、最佳紀錄統計
  - 標籤式切換介面（今日/本週）
- **智能主題適配**
  - 自動使用當前主題色
  - 夜間模式下使用深色配色
  - 網格線和文字顏色自適應

### 🔧 改進與優化
- **統計系統升級**
  - 擴展支援週數據處理
  - 新增週數據獲取方法
  - 改進日期計算邏輯
  - 優化跨日處理機制

- **樣式系統擴展**
  - 新增 200+ 行 CSS 代碼
  - 完整的夜間模式適配
  - 響應式設計優化（白噪音按鈕 2 列佈局）
  - 動畫效果增強

- **代碼架構優化**
  - 新增 3 個專業模組
    - `tasks.js`：300+ 行任務管理
    - `sounds.js`：400+ 行音頻控制
    - `stats.js`：擴展至 438 行包含圖表繪製
  - 模組化設計更加清晰
  - 代碼可維護性提升

### 📝 文檔更新
- **新增文檔**
  - `TESTING.md`：完整功能測試報告（300+ 行）
  - `test.html`：自動化測試頁面

- **更新文檔**
  - `README.md`：新增所有功能說明和使用指南
  - `CHANGELOG.md`：詳細記錄所有變更
  - `FEATURES.md`：更新功能詳細文檔

### 📊 代碼統計
- **新增代碼**
  - JavaScript：約 1,000+ 行
  - CSS：約 200+ 行
  - HTML：約 100+ 行
  - 文檔：約 500+ 行

- **總計**
  - 從 v1.1.0 的 3,310 行增加到 5,000+ 行
  - JavaScript 模組：從 5 個增加到 7 個
  - 功能完整度大幅提升

### 🎯 功能完整性
- ✅ 基礎計時功能
- ✅ 通知提醒系統
- ✅ 數據統計追蹤
- ✅ 夜間模式
- ✅ 待辦清單整合 🆕
- ✅ 白噪音播放器 🆕
- ✅ 週統計圖表 🆕

### 🐛 問題修復
- 修復統計顯示在切換標籤時的更新問題
- 優化圖表繪製效能
- 改進音頻上下文初始化處理

---

## [1.1.0] - 2025-11-12

### ✨ 新增功能
- **夜間模式**：新增護眼深色主題
  - 右上角一鍵切換日間/夜間模式
  - 精心設計的深色配色方案
  - 降低色彩飽和度，減少眼睛疲勞
  - 自動保存使用者偏好設定
  - 平滑的過渡動畫效果

### 📝 文檔更新
- 新增 `DARK_MODE.md`：夜間模式詳細說明文檔
- 更新 `README.md`：添加夜間模式使用說明
- 更新 `SUMMARY.md`：記錄新功能到專案總結
- 更新 `QUICK_START.md`：添加夜間模式使用技巧
- 新增 `CHANGELOG.md`：本更新日誌文件

### 🎨 樣式改進
- 新增 100+ 行 CSS 代碼實現夜間模式
- 優化深色背景下的所有 UI 元素
- 改進按鈕、輸入框在夜間模式下的視覺效果
- 增強進度環和統計卡片的夜間模式適配

### 🔧 技術改進
- 擴展 localStorage 儲存結構以支援主題設定
- 新增主題切換邏輯和狀態管理
- 優化 CSS 變數系統以支援主題切換
- 添加主題過渡動畫

### 📊 代碼統計
- CSS 新增：約 100 行
- JavaScript 新增：約 50 行
- 文檔新增：約 150 行
- 總代碼量：從 2173 行增加到 3310+ 行

---

## [1.0.0] - 2025-11-12

### 🎉 初始版本發布

#### ✅ 核心功能
- **計時器系統**
  - 工作時段（25 分鐘）
  - 短休息（5 分鐘）
  - 長休息（15 分鐘）
  - 開始、暫停、重置控制
  - 圓環進度視覺化

- **通知系統**
  - 桌面通知（Notification API）
  - 音效提醒（Web Audio API）
  - 標題閃爍降級方案

- **狀態管理**
  - 工作/休息模式自動切換
  - 番茄鐘計數追蹤
  - 每 4 個番茄鐘觸發長休息
  - 模式主題色自動切換

- **數據追蹤**
  - 本地數據儲存（localStorage）
  - 今日統計顯示
  - 工作時長統計
  - 休息次數統計
  - 歷史記錄保存
  - 數據匯出功能（CSV）

- **使用者介面**
  - 現代化設計
  - 響應式佈局（支援手機/平板）
  - 平滑動畫效果
  - 主題色動態切換

- **進階功能**
  - 自訂時長設定
  - 音效/通知開關
  - 自動開始選項
  - 鍵盤快捷鍵（空格、R）
  - 頁面標題動態顯示剩餘時間

#### 📁 專案文件
- `index.html`：主頁面
- `css/style.css`：主樣式文件
- `css/animations.css`：動畫效果
- `js/app.js`：主應用邏輯
- `js/timer.js`：計時器核心
- `js/notification.js`：通知系統
- `js/storage.js`：數據儲存
- `js/stats.js`：統計管理

#### 📚 文檔
- `README.md`：完整使用說明
- `PROJECT_PLAN.md`：詳細開發規劃
- `SUMMARY.md`：專案總結報告
- `QUICK_START.md`：快速開始指南
- `start.sh`：一鍵啟動腳本

#### 🎯 技術特點
- 純前端實現（HTML5 + CSS3 + Vanilla JavaScript）
- 零依賴，無需安裝任何套件
- 完整的模組化架構
- 高品質代碼註釋
- 完善的文檔

---

## 版本號規則

本專案遵循 [語義化版本控制](https://semver.org/lang/zh-TW/)：

- **主版本號（Major）**：不相容的 API 修改
- **次版本號（Minor）**：向下相容的功能新增
- **修訂號（Patch）**：向下相容的問題修正

格式：`主版本號.次版本號.修訂號`（例如：1.0.0）

---

## 未來規劃

### v1.3.0（計劃中）
- [ ] 多語言支援（英文、日文）
- [ ] 匯出/匯入設定功能
- [ ] 更多統計圖表（月統計、年統計）
- [ ] 番茄鐘完成慶祝動畫
- [ ] 任務分類和標籤功能

### v2.0.0（遠期規劃）
- [ ] PWA 支援（離線使用、安裝到桌面）
- [ ] 雲端同步功能（跨設備資料同步）
- [ ] 團隊協作功能
- [ ] 成就系統和徽章
- [ ] 自動根據時間切換主題
- [ ] 系統深色模式偵測
- [ ] 音樂播放器整合（Spotify、Apple Music）
- [ ] 更多白噪音選項

---

**感謝使用番茄鐘！** 🍅
